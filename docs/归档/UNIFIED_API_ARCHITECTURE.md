# å°è¯­AIç»Ÿä¸€APIæ¶æ„æ–¹æ¡ˆ

> **è®¾è®¡ç†å¿µ**: å‚è€ƒ0379.emailå¤šé¡¹ç›®å…±äº«APIæ¶æ„  
> **åˆ›å»ºæ—¥æœŸ**: 2024å¹´11æœˆ26æ—¥  
> **æ¶æ„ç±»å‹**: ç»Ÿä¸€APIç½‘å…³ + å¾®æœåŠ¡æ¶æ„

---

## ğŸ¯ æ¶æ„ç›®æ ‡

å€Ÿé‰´æ‚¨çš„0379.emailæˆåŠŸç»éªŒï¼Œä¸ºå°è¯­AIé¡¹ç›®å»ºç«‹ç»Ÿä¸€çš„APIæ¶æ„ï¼š

1. **ç»Ÿä¸€å…¥å£**: æ‰€æœ‰å®¢æˆ·ç«¯ï¼ˆWebã€ç§»åŠ¨ç«¯ã€ç¬¬ä¸‰æ–¹ï¼‰ä½¿ç”¨ç›¸åŒçš„APIåŸºç¡€URL
2. **å…±äº«æœåŠ¡**: æ ¸å¿ƒAIåŠŸèƒ½ä½œä¸ºå…±äº«æœåŠ¡ï¼Œå¤šä¸ªåº”ç”¨å¯å¤ç”¨
3. **é›†ä¸­ç®¡ç†**: ç»Ÿä¸€çš„è®¤è¯ã€æ—¥å¿—ã€ç›‘æ§ã€é…é¢ç®¡ç†
4. **æ˜“äºæ‰©å±•**: æ–°é¡¹ç›®å¯ä»¥å¿«é€Ÿæ¥å…¥ç°æœ‰AIèƒ½åŠ›

---

## ğŸ—ï¸ æ¨èæ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®¢æˆ·ç«¯å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Webåº”ç”¨    â”‚  ç§»åŠ¨åº”ç”¨   â”‚  ç¬¬ä¸‰æ–¹é›†æˆ  â”‚  å†…éƒ¨å·¥å…·   â”‚
â”‚  (React)    â”‚  (React    â”‚  (API Key)   â”‚  (Admin)    â”‚
â”‚             â”‚   Native)   â”‚              â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚           â”‚              â”‚              â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    ç»Ÿä¸€APIç½‘å…³ (Port 4000)     â”‚
         â”‚  - è®¤è¯/æˆæƒ                    â”‚
         â”‚  - é™æµ/é…é¢                    â”‚
         â”‚  - æ—¥å¿—/ç›‘æ§ (ELK)             â”‚
         â”‚  - APIç‰ˆæœ¬ç®¡ç†                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚              â”‚              â”‚
       â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIæœåŠ¡     â”‚ â”‚ æˆé•¿æœåŠ¡    â”‚ â”‚ å†…å®¹æœåŠ¡    â”‚
â”‚  (Port 4001)â”‚ â”‚ (Port 4002) â”‚ â”‚ (Port 4003) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ 5å¤§æ™ºèƒ½ä½“ â”‚ â”‚ â€¢ æˆé•¿è®°å½•  â”‚ â”‚ â€¢ æ–‡åŒ–ä¼ æ‰¿  â”‚
â”‚ â€¢ RAGæ£€ç´¢   â”‚ â”‚ â€¢ é¢„æµ‹åˆ†æ  â”‚ â”‚ â€¢ éŸ³ä¹ç³»ç»Ÿ  â”‚
â”‚ â€¢ è¯­éŸ³è¯†åˆ«  â”‚ â”‚ â€¢ æŠ¥å‘Šç”Ÿæˆ  â”‚ â”‚ â€¢ åª’ä½“ç®¡ç†  â”‚
â”‚ â€¢ æƒ…æ„Ÿåˆ†æ  â”‚ â”‚ â€¢ é‡Œç¨‹ç¢‘    â”‚ â”‚ â€¢ æœç´¢åŠŸèƒ½  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚              â”‚              â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    å…±äº«åŸºç¡€è®¾æ–½              â”‚
         â”‚  â€¢ MongoDB (æ•°æ®)           â”‚
         â”‚  â€¢ Redis (ç¼“å­˜)             â”‚
         â”‚  â€¢ Elasticsearch (æ—¥å¿—)     â”‚
         â”‚  â€¢ Qdrant (å‘é‡)            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ ç»Ÿä¸€APIç«¯ç‚¹è®¾è®¡

### åŸºç¡€URLé…ç½®

**å¼€å‘ç¯å¢ƒ**:

```env
# æ‰€æœ‰é¡¹ç›®çš„ .env.local
NEXT_PUBLIC_API_URL=http://localhost:4000/api
VITE_API_BASE_URL=http://localhost:4000/api
```

**ç”Ÿäº§ç¯å¢ƒ**:

```env
# æ‰€æœ‰é¡¹ç›®çš„ .env.production
NEXT_PUBLIC_API_URL=https://api.xiaoyu-ai.com/api
VITE_API_BASE_URL=https://api.xiaoyu-ai.com/api
```

---

### APIç«¯ç‚¹åˆ†ç±»

#### 1. è®¤è¯å’Œç”¨æˆ·ç®¡ç† (`/api/auth`, `/api/user`)

```javascript
// ç”¨æˆ·è®¤è¯
POST   /api/auth/register        - ç”¨æˆ·æ³¨å†Œ
POST   /api/auth/login           - ç”¨æˆ·ç™»å½•
POST   /api/auth/logout          - ç”¨æˆ·ç™»å‡º
POST   /api/auth/refresh         - åˆ·æ–°Token
POST   /api/auth/reset-password  - å¯†ç é‡ç½®

// ç”¨æˆ·ç®¡ç†
GET    /api/user/profile         - è·å–ç”¨æˆ·ä¿¡æ¯
PUT    /api/user/profile         - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
GET    /api/user/children        - è·å–å­©å­åˆ—è¡¨
POST   /api/user/children        - æ·»åŠ å­©å­
```

#### 2. AIæ™ºèƒ½ä½“æœåŠ¡ (`/api/ai-agents`)

```javascript
// 5å¤§æ™ºèƒ½ä½“ç»Ÿä¸€æ¥å£
POST   /api/ai-agents/companion/chat       - é™ªä¼´æ™ºèƒ½ä½“å¯¹è¯
POST   /api/ai-agents/recorder/analyze     - è®°å½•æ™ºèƒ½ä½“åˆ†æ
POST   /api/ai-agents/listener/understand  - å€¾å¬æ™ºèƒ½ä½“ç†è§£
POST   /api/ai-agents/advisor/suggest      - é¡¾é—®æ™ºèƒ½ä½“å»ºè®®
POST   /api/ai-agents/guardian/monitor     - å®ˆæŠ¤æ™ºèƒ½ä½“ç›‘æ§

// é€šç”¨AIèƒ½åŠ›
POST   /api/ai-agents/chat                 - é€šç”¨å¯¹è¯æ¥å£
GET    /api/ai-agents/history              - å¯¹è¯å†å²
GET    /api/ai-agents/context              - ä¸Šä¸‹æ–‡ä¿¡æ¯
```

#### 3. RAGçŸ¥è¯†æ£€ç´¢ (`/api/rag`)

```javascript
POST   /api/rag/search          - çŸ¥è¯†æ£€ç´¢
POST   /api/rag/embed           - æ–‡æœ¬å‘é‡åŒ–
GET    /api/rag/documents       - è·å–æ–‡æ¡£åˆ—è¡¨
POST   /api/rag/documents       - ä¸Šä¼ æ–‡æ¡£
DELETE /api/rag/documents/:id   - åˆ é™¤æ–‡æ¡£
```

#### 4. æˆé•¿è®°å½•æœåŠ¡ (`/api/growth`)

```javascript
// æˆé•¿è®°å½•
GET    /api/growth/records              - è·å–è®°å½•åˆ—è¡¨
POST   /api/growth/records              - åˆ›å»ºè®°å½•
GET    /api/growth/records/:id          - è·å–å•æ¡è®°å½•
PUT    /api/growth/records/:id          - æ›´æ–°è®°å½•
DELETE /api/growth/records/:id          - åˆ é™¤è®°å½•

// é¢„æµ‹åˆ†æ
POST   /api/growth/predict              - ç”Ÿæˆé¢„æµ‹
GET    /api/growth/predictions          - è·å–é¢„æµ‹åˆ—è¡¨
GET    /api/growth/predictions/:id      - è·å–å•ä¸ªé¢„æµ‹

// æ™ºèƒ½æŠ¥å‘Š
POST   /api/growth/reports/generate     - ç”ŸæˆæŠ¥å‘Š
GET    /api/growth/reports              - è·å–æŠ¥å‘Šåˆ—è¡¨
GET    /api/growth/reports/:id          - è·å–æŠ¥å‘Šè¯¦æƒ…
```

#### 5. è¯­éŸ³å’ŒéŸ³ä¹æœåŠ¡ (`/api/speech`, `/api/music`)

```javascript
// è¯­éŸ³æœåŠ¡
POST   /api/speech/recognize            - è¯­éŸ³è¯†åˆ«
POST   /api/speech/synthesize           - è¯­éŸ³åˆæˆ
POST   /api/speech/emotion              - æƒ…æ„Ÿåˆ†æ

// éŸ³ä¹æœåŠ¡
GET    /api/music/search                - æœç´¢éŸ³ä¹
POST   /api/music/recommend             - æ¨èéŸ³ä¹
GET    /api/music/playlist              - è·å–æ’­æ”¾åˆ—è¡¨
POST   /api/music/playlist              - åˆ›å»ºæ’­æ”¾åˆ—è¡¨
```

#### 6. ç›‘æ§å’Œæ—¥å¿— (`/api/logs`, `/api/metrics`)

```javascript
// æ—¥å¿—æŸ¥è¯¢ï¼ˆç®¡ç†å‘˜ï¼‰
GET    /api/logs/search                 - æœç´¢æ—¥å¿—
GET    /api/logs/stats                  - æ—¥å¿—ç»Ÿè®¡
GET    /api/logs/health                 - å¥åº·æ£€æŸ¥

// æ€§èƒ½æŒ‡æ ‡
GET    /api/metrics                     - PrometheusæŒ‡æ ‡
GET    /api/metrics/derived             - è¡ç”ŸæŒ‡æ ‡
GET    /api/service-metrics             - æœåŠ¡ç›‘æ§
```

---

## ğŸ”— å…±äº«APIå®¢æˆ·ç«¯

### JavaScript/TypeScriptå®¢æˆ·ç«¯

åˆ›å»ºç»Ÿä¸€çš„APIå®¢æˆ·ç«¯åº“ï¼š

```typescript
// shared/xiaoyu-ai-client.ts

export interface XiaoYuAIConfig {
  apiUrl: string
  apiKey?: string
  timeout?: number
}

export class XiaoYuAIClient {
  private baseUrl: string
  private apiKey?: string
  private timeout: number

  constructor(config: XiaoYuAIConfig) {
    this.baseUrl = config.apiUrl
    this.apiKey = config.apiKey
    this.timeout = config.timeout || 30000
  }

  // è®¤è¯
  async login(email: string, password: string) {
    return this.request('POST', '/auth/login', { email, password })
  }

  // AIå¯¹è¯
  async chat(agentType: string, message: string, context?: any) {
    return this.request('POST', `/ai-agents/${agentType}/chat`, {
      message,
      context
    })
  }

  // RAGæ£€ç´¢
  async searchKnowledge(query: string, limit: number = 10) {
    return this.request('POST', '/rag/search', { query, limit })
  }

  // æˆé•¿è®°å½•
  async createGrowthRecord(data: any) {
    return this.request('POST', '/growth/records', data)
  }

  // è¯­éŸ³è¯†åˆ«
  async recognizeSpeech(audioBlob: Blob) {
    const formData = new FormData()
    formData.append('audio', audioBlob)
    return this.request('POST', '/speech/recognize', formData)
  }

  // é€šç”¨è¯·æ±‚æ–¹æ³•
  private async request(method: string, endpoint: string, data?: any) {
    const url = `${this.baseUrl}${endpoint}`
    const headers: Record<string, string> = {
      'Content-Type': 'application/json',
    }

    if (this.apiKey) {
      headers['Authorization'] = `Bearer ${this.apiKey}`
    }

    const token = localStorage.getItem('token')
    if (token) {
      headers['Authorization'] = `Bearer ${token}`
    }

    const options: RequestInit = {
      method,
      headers,
      body: data instanceof FormData ? data : JSON.stringify(data),
    }

    const response = await fetch(url, options)
    
    if (!response.ok) {
      throw new Error(`API Error: ${response.statusText}`)
    }

    return response.json()
  }
}

// é»˜è®¤å¯¼å‡ºå•ä¾‹
export const xiaoYuAI = new XiaoYuAIClient({
  apiUrl: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000/api'
})
```

---

## ğŸ“¦ é¡¹ç›®é›†æˆç¤ºä¾‹

### é¡¹ç›®A: Webä¸»åº”ç”¨ï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰

```typescript
// apps/web/src/lib/api.ts
import { XiaoYuAIClient } from '@/shared/xiaoyu-ai-client'

export const api = new XiaoYuAIClient({
  apiUrl: process.env.NEXT_PUBLIC_API_URL!
})

// ä½¿ç”¨ç¤ºä¾‹
async function handleChat(message: string) {
  const response = await api.chat('companion', message)
  console.log(response)
}
```

---

### é¡¹ç›®B: ç§»åŠ¨ç«¯åº”ç”¨ï¼ˆReact Nativeï¼‰

```typescript
// mobile-app/src/services/api.ts
import { XiaoYuAIClient } from '@xiaoyu-ai/client'

export const api = new XiaoYuAIClient({
  apiUrl: 'https://api.xiaoyu-ai.com/api'
})

// ä½¿ç”¨AIåŠŸèƒ½
const response = await api.chat('advisor', 'å­©å­æœ€è¿‘ä¸çˆ±åƒé¥­')
```

---

### é¡¹ç›®C: ç®¡ç†åå°ï¼ˆç›‘æ§å’Œç®¡ç†ï¼‰

```typescript
// admin-panel/src/api.ts
import { XiaoYuAIClient } from '@xiaoyu-ai/client'

export const adminAPI = new XiaoYuAIClient({
  apiUrl: process.env.REACT_APP_API_URL!,
  apiKey: process.env.REACT_APP_ADMIN_KEY
})

// æŸ¥è¯¢æ—¥å¿—
const logs = await adminAPI.searchLogs({ level: 'error', size: 100 })

// æŸ¥çœ‹æŒ‡æ ‡
const metrics = await adminAPI.getMetrics()
```

---

### é¡¹ç›®D: ç¬¬ä¸‰æ–¹é›†æˆï¼ˆAPI Keyè®¤è¯ï¼‰

```typescript
// third-party-integration/index.js
const { XiaoYuAIClient } = require('@xiaoyu-ai/client')

const client = new XiaoYuAIClient({
  apiUrl: 'https://api.xiaoyu-ai.com/api',
  apiKey: 'your-api-key-here'
})

// ä½¿ç”¨AIèƒ½åŠ›
async function analyzeChildBehavior(text) {
  return await client.chat('analyzer', text)
}
```

---

## ğŸ” ç»Ÿä¸€è®¤è¯å’Œæˆæƒ

### JWT Tokenæµç¨‹

```typescript
// 1. ç”¨æˆ·ç™»å½•è·å–Token
const { token, refreshToken } = await api.login(email, password)
localStorage.setItem('token', token)
localStorage.setItem('refreshToken', refreshToken)

// 2. è‡ªåŠ¨é™„åŠ Tokenåˆ°è¯·æ±‚å¤´
// åœ¨XiaoYuAIClientä¸­è‡ªåŠ¨å¤„ç†

// 3. Tokenè¿‡æœŸè‡ªåŠ¨åˆ·æ–°
async function refreshTokenIfNeeded() {
  const token = localStorage.getItem('token')
  const decoded = jwt.decode(token)
  
  if (decoded.exp < Date.now() / 1000) {
    const refreshToken = localStorage.getItem('refreshToken')
    const { token: newToken } = await api.refreshToken(refreshToken)
    localStorage.setItem('token', newToken)
  }
}
```

---

## ğŸ“Š ç»Ÿä¸€ç›‘æ§å’Œæ—¥å¿—

### é›†æˆELKæ—¥å¿—

æ‰€æœ‰é¡¹ç›®çš„æ—¥å¿—è‡ªåŠ¨èšåˆåˆ°ELKæ ˆï¼š

```typescript
// å®¢æˆ·ç«¯æ—¥å¿—
api.on('request', (req) => {
  console.log('[API Request]', req)
})

api.on('response', (res) => {
  console.log('[API Response]', res)
})

api.on('error', (err) => {
  console.error('[API Error]', err)
  // è‡ªåŠ¨ä¸ŠæŠ¥åˆ°Elasticsearch
})
```

### Kibanaä»ªè¡¨ç›˜

- **ç”¨æˆ·è¡Œä¸ºåˆ†æ**: å„é¡¹ç›®ç”¨æˆ·æ´»è·ƒåº¦
- **APIä½¿ç”¨ç»Ÿè®¡**: å„ç«¯ç‚¹è°ƒç”¨é¢‘ç‡
- **é”™è¯¯ç›‘æ§**: é”™è¯¯ç‡ã€é”™è¯¯ç±»å‹åˆ†å¸ƒ
- **æ€§èƒ½ç›‘æ§**: å“åº”æ—¶é—´ã€ååé‡

---

## ğŸ¯ é…ç½®æ¸…å•

### æ­¥éª¤1: ç¡®ä¿APIæœåŠ¡è¿è¡Œ

```bash
# å¯åŠ¨å°è¯­AIç»Ÿä¸€APIæœåŠ¡
cd /Users/yanyu/Documents/xiaoYuâ¤ï¸AI/apps/server
npm run dev  # ç«¯å£4000
```

### æ­¥éª¤2: åœ¨æ¯ä¸ªé¡¹ç›®ä¸­è®¾ç½®ç¯å¢ƒå˜é‡

```bash
# é¡¹ç›®A (Webä¸»åº”ç”¨) - .env.local
NEXT_PUBLIC_API_URL=http://localhost:4000/api

# é¡¹ç›®B (ç§»åŠ¨åº”ç”¨) - .env
API_URL=http://localhost:4000/api

# é¡¹ç›®C (ç®¡ç†åå°) - .env.local
REACT_APP_API_URL=http://localhost:4000/api
REACT_APP_ADMIN_KEY=admin-secret-key

# é¡¹ç›®D (ç¬¬ä¸‰æ–¹é›†æˆ) - .env
XIAOYU_AI_API_URL=http://localhost:4000/api
XIAOYU_AI_API_KEY=your-api-key
```

### æ­¥éª¤3: å®‰è£…å…±äº«APIå®¢æˆ·ç«¯

```bash
# æ–¹å¼1: æœ¬åœ°è·¯å¾„ï¼ˆå¼€å‘é˜¶æ®µï¼‰
npm install /Users/yanyu/Documents/xiaoYuâ¤ï¸AI/shared/xiaoyu-ai-client

# æ–¹å¼2: npmåŒ…ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
npm install @xiaoyu-ai/client

# æ–¹å¼3: ç›´æ¥å¤åˆ¶æ–‡ä»¶
cp /Users/yanyu/Documents/xiaoYuâ¤ï¸AI/shared/xiaoyu-ai-client.ts ./src/lib/
```

---

## ğŸ‰ ä¼˜åŠ¿æ€»ç»“

### ä¸0379.emailç›¸åŒçš„ä¼˜åŠ¿

1. âœ… **ç»Ÿä¸€ç®¡ç†**: ä¸€ä¸ªAPIæœåŠ¡ç®¡ç†æ‰€æœ‰AIåŠŸèƒ½
2. âœ… **æˆæœ¬æ•ˆç›Š**: æ— éœ€ä¸ºæ¯ä¸ªé¡¹ç›®å•ç‹¬éƒ¨ç½²AIæœåŠ¡
3. âœ… **å¼€å‘æ•ˆç‡**: ä¸€æ¬¡å¼€å‘ï¼Œå¤šå¤„ä½¿ç”¨
4. âœ… **ç»´æŠ¤ç®€å•**: åªéœ€è¦ç»´æŠ¤ä¸€ä¸ªæ ¸å¿ƒAPIæœåŠ¡
5. âœ… **æ•°æ®ç»Ÿä¸€**: æ‰€æœ‰æ•°æ®é›†ä¸­ç®¡ç†å’Œåˆ†æ
6. âœ… **ç›‘æ§ä¾¿åˆ©**: ç»Ÿä¸€çš„æ—¥å¿—å’Œæ€§èƒ½ç›‘æ§ï¼ˆELKï¼‰

### å°è¯­AIç‰¹æœ‰ä¼˜åŠ¿

7. âœ… **AIèƒ½åŠ›å…±äº«**: 5å¤§æ™ºèƒ½ä½“ã€RAGã€è¯­éŸ³è¯†åˆ«ç­‰AIèƒ½åŠ›å¯è¢«å¤šä¸ªåº”ç”¨å¤ç”¨
8. âœ… **çŸ¥è¯†åº“ç»Ÿä¸€**: æ‰€æœ‰é¡¹ç›®å…±äº«åŒä¸€ä¸ªçŸ¥è¯†åº“
9. âœ… **æˆé•¿æ•°æ®äº’é€š**: è·¨å¹³å°çš„æˆé•¿æ•°æ®åŒæ­¥
10. âœ… **ç‰ˆæœ¬æ§åˆ¶**: APIç‰ˆæœ¬åŒ–ç®¡ç†ï¼Œå¹³æ»‘å‡çº§

---

## ğŸš€ å®æ–½è®¡åˆ’

### çŸ­æœŸï¼ˆæœ¬å‘¨ï¼‰

1. **åˆ›å»ºå…±äº«APIå®¢æˆ·ç«¯åº“**
   - å®Œå–„TypeScriptç±»å‹å®šä¹‰
   - æ·»åŠ è‡ªåŠ¨é‡è¯•æœºåˆ¶
   - å®ç°Tokenè‡ªåŠ¨åˆ·æ–°

2. **ç»Ÿä¸€APIæ–‡æ¡£**
   - ä½¿ç”¨Swagger/OpenAPI
   - ç”Ÿæˆäº¤äº’å¼æ–‡æ¡£
   - æä¾›ä»£ç ç¤ºä¾‹

3. **æµ‹è¯•å¤šé¡¹ç›®é›†æˆ**
   - Webåº”ç”¨é›†æˆæµ‹è¯•
   - ç¬¬ä¸‰æ–¹API Keyæµ‹è¯•
   - æ€§èƒ½å’Œç¨³å®šæ€§æµ‹è¯•

### ä¸­æœŸï¼ˆä¸‹å‘¨ï¼‰

4. **APIç½‘å…³å¢å¼º**
   - æ·»åŠ é™æµå’Œé…é¢ç®¡ç†
   - å®ç°API Keyç®¡ç†ç³»ç»Ÿ
   - æ·»åŠ è¯·æ±‚ç­¾åéªŒè¯

5. **ç›‘æ§å’Œå‘Šè­¦**
   - Kibanaä»ªè¡¨ç›˜é…ç½®
   - å‘Šè­¦è§„åˆ™è®¾ç½®
   - æ€§èƒ½åŸºå‡†æµ‹è¯•

6. **æ–‡æ¡£å’ŒåŸ¹è®­**
   - APIä½¿ç”¨æŒ‡å—
   - é›†æˆç¤ºä¾‹é¡¹ç›®
   - æœ€ä½³å®è·µæ–‡æ¡£

### é•¿æœŸï¼ˆä¸‹ä¸ªæœˆï¼‰

7. **æ‰©å±•åŠŸèƒ½**
   - GraphQLæ”¯æŒ
   - WebSocketå®æ—¶é€šä¿¡
   - SDKå¤šè¯­è¨€æ”¯æŒï¼ˆPythonã€Javaç­‰ï¼‰

8. **ä¼ä¸šåŠŸèƒ½**
   - å¤šç§Ÿæˆ·æ”¯æŒ
   - SLAä¿è¯
   - å®¡è®¡æ—¥å¿—

---

## ğŸ“ å¯¹æ¯”ï¼š0379.email vs å°è¯­AI

| ç‰¹æ€§ | 0379.email | å°è¯­AI |
|------|------------|--------|
| **æ ¸å¿ƒåŠŸèƒ½** | é‚®ä»¶å‘é€ | AIæ™ºèƒ½ä½“ |
| **ç«¯å£** | 3101 | 4000 |
| **ä¸»è¦API** | /api/email/* | /api/ai-agents/* |
| **è®¤è¯æ–¹å¼** | API Key | JWT + API Key |
| **æ•°æ®å­˜å‚¨** | MongoDB | MongoDB + Qdrant + Redis |
| **æ—¥å¿—ç³»ç»Ÿ** | âœ… | âœ… ELK Stack |
| **ç›‘æ§** | âœ… | âœ… Prometheus + ELK |
| **å¤šé¡¹ç›®æ”¯æŒ** | âœ… | âœ… |
| **å…±äº«å®¢æˆ·ç«¯** | âœ… | âœ… |

---

## ğŸ§ª æµ‹è¯•ç¤ºä¾‹

```bash
# è¿è¡Œå¤šé¡¹ç›®é›†æˆæµ‹è¯•
cd /Users/yanyu/Documents/xiaoYuâ¤ï¸AI
node tests/multi-project-integration-test.js

# é¢„æœŸè¾“å‡ºï¼š
# âœ… é¡¹ç›®A (Web) - AIå¯¹è¯æˆåŠŸ
# âœ… é¡¹ç›®B (Mobile) - æˆé•¿è®°å½•åˆ›å»ºæˆåŠŸ
# âœ… é¡¹ç›®C (Admin) - æ—¥å¿—æŸ¥è¯¢æˆåŠŸ
# âœ… é¡¹ç›®D (3rd Party) - API Keyè®¤è¯æˆåŠŸ
```

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- **0379.email APIæ–‡æ¡£**: å‚è€ƒæ‚¨ç°æœ‰çš„é‚®ä»¶æœåŠ¡æ¶æ„
- **å°è¯­AI APIæ–‡æ¡£**: `docs/API_DOCUMENTATION.md` (å¾…åˆ›å»º)
- **é›†æˆæŒ‡å—**: `docs/INTEGRATION_GUIDE.md` (å¾…åˆ›å»º)
- **æœ€ä½³å®è·µ**: åŸºäº0379.emailçš„æˆåŠŸç»éªŒ

---

**æ¶æ„è®¾è®¡**: åŸºäº0379.emailå¤šé¡¹ç›®å…±äº«æ¶æ„  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024å¹´11æœˆ26æ—¥

---

<div align="center">

> ã€Œ***YanYuCloudCube***ã€
> ã€Œ***<admin@0379.email>***ã€
> ã€Œ***Words Initiate Quadrants, Language Serves as Core for the Future***ã€
> ã€Œ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***ã€

</div>

