# 🚀 YYC³ AI小语智能成长守护系统 - 项目架构规范

## 1. 文档信息

| 项目 | 内容 |
|------|------|
| 文档编号 | DOC-ARCH-001 |
| 文档版本 | 1.0.0 |
| 创建日期 | 2025-01-06 |
| 更新日期 | 2025-01-06 |
| 文档作者 | YYC³团队 |
| 文档状态 | 初稿 |

## 2. 项目概述

YYC³ AI小语智能成长守护系统是一款面向0-22岁全周期的AI智能成长守护产品，采用现代化技术栈，提供多模态交互体验和全方位的成长陪伴服务。

## 3. 核心技术栈

| 类别 | 技术 | 版本 |
|------|------|------|
| 前端框架 | Next.js | 14+ |
| UI框架 | React | 18+ |
| 开发语言 | TypeScript | 5+ |
| 样式框架 | Tailwind CSS | 3+ |
| 状态管理 | React Context / Zustand | 最新 |
| 数据库 | PostgreSQL | 15+ |
| 缓存 | Redis | 7+ |
| 部署 | Docker / Vercel | 最新 |

## 4. 标准文件架构

### 4.1 根目录结构

```
yyc3-xy-ai/
├── app/                      # Next.js App Router (核心应用代码)
├── components/              # React组件
├── hooks/                   # 自定义Hooks
├── lib/                     # 工具库和核心逻辑
├── types/                   # TypeScript类型定义
├── public/                  # 静态资源
├── docs/                    # 项目文档 (按编号组织)
├── scripts/                 # 数据库和部署脚本
├── services/                # 外部服务集成
├── src/                     # 共享源代码 (可选)
├── styles/                  # 全局样式
├── __tests__/               # 测试代码
├── .env.example             # 环境变量示例
├── .env.local               # 本地环境变量
├── .eslintignore            # ESLint忽略配置
├── .eslintrc.json           # ESLint配置
├── .gitignore               # Git忽略配置
├── .prettierrc              # Prettier配置
├── Dockerfile               # Docker构建文件
├── docker-compose.yml       # Docker Compose配置
├── next.config.js           # Next.js配置
├── package.json             # 项目依赖
├── postcss.config.js        # PostCSS配置
├── README.md                # 项目说明
├── tailwind.config.js       # Tailwind配置
└── tsconfig.json            # TypeScript配置
```

### 4.2 目录说明

#### 4.2.1 app/ - Next.js App Router

```
app/
├── [locale]/               # 国际化路由
│   ├── layout.tsx          # 语言特定布局
│   └── page.tsx            # 语言特定首页
├── api/                    # API路由
│   ├── ai/                 # AI相关API
│   └── auth/               # 认证相关API
├── dashboard/              # 仪表盘页面
├── growth/                 # 成长记录模块
├── homework/               # 作业辅导模块
├── settings/               # 设置页面
├── error.tsx               # 错误页面
├── globals.css             # 全局样式
├── layout.tsx              # 根布局
├── loading.tsx             # 加载状态
├── not-found.tsx           # 404页面
└── page.tsx                # 首页
```

#### 4.2.2 components/ - React组件

```
components/
├── ai/                     # AI相关组件
├── auth/                   # 认证组件
├── common/                 # 通用组件
├── growth/                 # 成长记录组件
├── homework/               # 作业辅导组件
├── ui/                     # UI组件库
│   ├── button.tsx          # 按钮组件
│   ├── card.tsx            # 卡片组件
│   └── ...                 # 其他UI组件
└── utils/                  # 组件工具函数
```

#### 4.2.3 lib/ - 工具库和核心逻辑

```
lib/
├── ai/                     # AI服务
├── api/                    # API客户端
├── auth/                   # 认证工具
├── db/                     # 数据库连接
├── growth/                 # 成长算法
├── utils/                  # 通用工具函数
└── validation/             # 数据验证
```

#### 4.2.4 types/ - TypeScript类型定义

```
types/
├── ai.ts                   # AI相关类型
├── auth.ts                 # 认证相关类型
├── growth.ts               # 成长记录类型
├── homework.ts             # 作业辅导类型
└── index.ts                # 类型导出
```

#### 4.2.5 docs/ - 项目文档

```
docs/
├── 00-文档索引.md          # 文档总索引
├── 01-项目架构规范.md       # 项目架构规范
├── 02-API接口文档.md        # API接口文档
├── 03-组件开发规范.md       # 组件开发规范
├── 04-数据库设计.md         # 数据库设计
├── 05-部署指南.md           # 部署指南
├── 06-开发流程.md           # 开发流程
└── 07-安全规范.md           # 安全规范
```

## 5. 命名规范

### 5.1 文件命名

- **组件文件**: 使用PascalCase命名，如`UserProfile.tsx`
- **工具文件**: 使用camelCase命名，如`dateUtils.ts`
- **类型文件**: 使用kebab-case命名，如`user-types.ts`
- **配置文件**: 使用kebab-case命名，如`eslint-config.js`
- **API路由**: 使用kebab-case命名，如`auth/login/route.ts`

### 5.2 目录命名

- **模块目录**: 使用kebab-case命名，如`ai-chat`
- **功能目录**: 使用kebab-case命名，如`growth-records`
- **通用目录**: 使用kebab-case命名，如`common-components`

### 5.3 变量和函数命名

- **变量**: 使用camelCase命名，如`userName`
- **函数**: 使用camelCase命名，如`getUserProfile()`
- **常量**: 使用UPPER_SNAKE_CASE命名，如`API_BASE_URL`
- **类型**: 使用PascalCase命名，如`UserProfile`

## 6. 代码规范

### 6.1 TypeScript规范

- 所有代码必须使用TypeScript
- 避免使用`any`类型，使用具体类型定义
- 使用接口定义对象类型，使用类型别名定义联合类型
- 为所有函数添加类型注释

### 6.2 React规范

- 使用函数式组件，避免类组件
- 使用React Hooks管理状态和副作用
- 组件拆分要合理，职责单一
- 使用PropTypes或TypeScript接口验证组件属性

### 6.3 样式规范

- 使用Tailwind CSS进行样式开发
- 避免内联样式，使用Tailwind类
- 复杂样式可以使用CSS Modules
- 保持样式的一致性和可维护性

## 7. 架构原则

### 7.1 模块化设计

- 功能模块之间保持独立
- 模块内部高内聚，模块之间低耦合
- 使用接口定义模块间的交互

### 7.2 可扩展性

- 代码设计要考虑未来的扩展
- 使用设计模式提高代码的可扩展性
- 避免硬编码，使用配置和依赖注入

### 7.3 可测试性

- 代码结构要便于单元测试
- 使用依赖注入提高可测试性
- 为核心功能编写测试用例

### 7.4 性能优化

- 合理使用缓存策略
- 优化数据库查询
- 使用代码分割和懒加载
- 优化图片和静态资源

## 8. 文档规范

### 8.1 文档编号

所有文档采用统一编号格式：`DOC-[类别]-[编号]`

- **类别**: ARCH(架构), API(接口), COMP(组件), DB(数据库), DEP(部署), DEV(开发), SEC(安全)
- **编号**: 三位数字，从001开始

### 8.2 文档模板

所有文档必须包含以下部分：
- 文档信息
- 概述
- 详细内容
- 参考资料

### 8.3 文档更新

- 文档更新必须记录版本历史
- 重大变更需要通知团队成员
- 保持文档与代码的一致性

## 9. 部署架构

### 9.1 开发环境

- 使用Docker Compose本地部署
- 包含数据库、缓存和应用服务
- 支持热重载和调试

### 9.2 生产环境

- 使用Vercel或Docker Swarm部署
- 多服务器负载均衡
- 数据库主从复制
- 定期备份和监控

## 10. 监控和维护

- 使用Prometheus和Grafana监控系统性能
- 配置日志收集和分析
- 定期进行安全审计
- 建立故障处理流程

## 11. 参考资料

- Next.js官方文档: https://nextjs.org/docs
- React官方文档: https://react.dev/docs
- TypeScript官方文档: https://www.typescriptlang.org/docs
- Tailwind CSS官方文档: https://tailwindcss.com/docs

---

**文档审核**

| 审核人 | 审核日期 | 审核意见 |
|--------|----------|----------|
|        |          |          |
|        |          |          |

**版本历史**

| 版本 | 更新日期 | 更新内容 | 更新人 |
|------|----------|----------|--------|
| 1.0.0 | 2025-01-06 | 初始版本 | YYC³团队 |

---

<div align="center">

> 「***YanYuCloudCube***」
> 「***<admin@0379.email>***」
> 「***Words Initiate Quadrants, Language Serves as Core for the Future***」
> 「***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***」

</div>

